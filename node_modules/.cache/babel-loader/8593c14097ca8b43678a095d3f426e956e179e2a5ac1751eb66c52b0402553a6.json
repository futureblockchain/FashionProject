{"ast":null,"code":"import _defineProperty from\"/Users/benjaminbenitez/Desktop/React/FashionProject/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/benjaminbenitez/Desktop/React/FashionProject/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/benjaminbenitez/Desktop/React/FashionProject/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/benjaminbenitez/Desktop/React/FashionProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/benjaminbenitez/Desktop/React/FashionProject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{AuthErrorCodes}from'firebase/auth';import{useDispatch}from'react-redux';import FormInput from'../form-input/form-input.component';import Button from'../button/button.component';import{SignUpContainer}from'./sign-up-form.styles';import{signUpStart}from'../../store/user/user.action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={displayName:'',email:'',password:'',confirmPassword:''};var SignUpForm=function SignUpForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var displayName=formFields.displayName,email=formFields.email,password=formFields.password,confirmPassword=formFields.confirmPassword;var dispatch=useDispatch();var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(password!==confirmPassword)){_context.next=4;break;}alert('passwords do not match');return _context.abrupt(\"return\");case 4:try{dispatch(signUpStart(email,password,displayName));resetFormFields();}catch(error){if(error.code===AuthErrorCodes.EMAIL_EXISTS){alert('Cannot create user, email already in use');}else{console.log('user creation encountered an error',error);}}case 5:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(SignUpContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Display Name\",type:\"text\",required:true,onChange:handleChange,name:\"displayName\",value:displayName}),/*#__PURE__*/_jsx(FormInput,{label:\"Email\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsx(FormInput,{label:\"Confirm Password\",type:\"password\",required:true,onChange:handleChange,name:\"confirmPassword\",value:confirmPassword}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign Up\"})]})]});};export default SignUpForm;","map":{"version":3,"names":["useState","AuthErrorCodes","useDispatch","FormInput","Button","SignUpContainer","signUpStart","jsx","_jsx","jsxs","_jsxs","defaultFormFields","displayName","email","password","confirmPassword","SignUpForm","_useState","_useState2","_slicedToArray","formFields","setFormFields","dispatch","resetFormFields","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","wrap","_callee$","_context","prev","next","preventDefault","alert","abrupt","error","code","EMAIL_EXISTS","console","log","stop","_x","apply","arguments","handleChange","_event$target","target","name","value","_objectSpread","_defineProperty","children","onSubmit","label","type","required","onChange"],"sources":["/Users/benjaminbenitez/Desktop/React/FashionProject/src/components/sign-up-form/sign-up-form.component.tsx"],"sourcesContent":["import { useState, FormEvent, ChangeEvent } from 'react';\nimport { AuthError, AuthErrorCodes } from 'firebase/auth';\nimport { useDispatch } from 'react-redux';\n\nimport FormInput from '../form-input/form-input.component';\nimport Button from '../button/button.component';\n\nimport { SignUpContainer } from './sign-up-form.styles';\nimport { signUpStart } from '../../store/user/user.action';\n\nconst defaultFormFields = {\n  displayName: '',\n  email: '',\n  password: '',\n  confirmPassword: '',\n};\n\nconst SignUpForm = () => {\n  const [formFields, setFormFields] = useState(defaultFormFields);\n  const { displayName, email, password, confirmPassword } = formFields;\n  const dispatch = useDispatch();\n\n  const resetFormFields = () => {\n    setFormFields(defaultFormFields);\n  };\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (password !== confirmPassword) {\n      alert('passwords do not match');\n      return;\n    }\n\n    try {\n      dispatch(signUpStart(email, password, displayName));\n      resetFormFields();\n    } catch (error) {\n      if ((error as AuthError).code === AuthErrorCodes.EMAIL_EXISTS) {\n        alert('Cannot create user, email already in use');\n      } else {\n        console.log('user creation encountered an error', error);\n      }\n    }\n  };\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n\n    setFormFields({ ...formFields, [name]: value });\n  };\n\n  return (\n    <SignUpContainer>\n      <h2>Don't have an account?</h2>\n      <span>Sign up with your email and password</span>\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          label='Display Name'\n          type='text'\n          required\n          onChange={handleChange}\n          name='displayName'\n          value={displayName}\n        />\n\n        <FormInput\n          label='Email'\n          type='email'\n          required\n          onChange={handleChange}\n          name='email'\n          value={email}\n        />\n\n        <FormInput\n          label='Password'\n          type='password'\n          required\n          onChange={handleChange}\n          name='password'\n          value={password}\n        />\n\n        <FormInput\n          label='Confirm Password'\n          type='password'\n          required\n          onChange={handleChange}\n          name='confirmPassword'\n          value={confirmPassword}\n        />\n        <Button type='submit'>Sign Up</Button>\n      </form>\n    </SignUpContainer>\n  );\n};\n\nexport default SignUpForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}