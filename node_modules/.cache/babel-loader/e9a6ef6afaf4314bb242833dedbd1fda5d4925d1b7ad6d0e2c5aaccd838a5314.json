{"ast":null,"code":"import _toConsumableArray from\"/Users/benjaminbenitez/Desktop/React/FashionProject/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/benjaminbenitez/Desktop/React/FashionProject/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{CART_ACTION_TYPES}from'./cart.types';import{createAction,withMatcher}from'../../utils/reducer/reducer.utils';var addCartItem=function addCartItem(cartItems,productToAdd){var existingCartItem=cartItems.find(function(cartItem){return cartItem.id===productToAdd.id;});if(existingCartItem){return cartItems.map(function(cartItem){return cartItem.id===productToAdd.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity+1}):cartItem;});}return[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},productToAdd),{},{quantity:1})]);};var removeCartItem=function removeCartItem(cartItems,cartItemToRemove){// find the cart item to remove\nvar existingCartItem=cartItems.find(function(cartItem){return cartItem.id===cartItemToRemove.id;});// check if quantity is equal to 1, if it is remove that item from the cart\nif(existingCartItem&&existingCartItem.quantity===1){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToRemove.id;});}// return back cartitems with matching cart item with reduced quantity\nreturn cartItems.map(function(cartItem){return cartItem.id===cartItemToRemove.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity-1}):cartItem;});};var clearCartItem=function clearCartItem(cartItems,cartItemToClear){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToClear.id;});};export var setIsCartOpen=withMatcher(function(boolean){return createAction(CART_ACTION_TYPES.SET_IS_CART_OPEN,boolean);});export var setCartItems=withMatcher(function(cartItems){return createAction(CART_ACTION_TYPES.SET_CART_ITEMS,cartItems);});export var addItemToCart=function addItemToCart(cartItems,productToAdd){var newCartItems=addCartItem(cartItems,productToAdd);return setCartItems(newCartItems);};export var removeItemFromCart=function removeItemFromCart(cartItems,cartItemToRemove){var newCartItems=removeCartItem(cartItems,cartItemToRemove);return setCartItems(newCartItems);};export var clearItemFromCart=function clearItemFromCart(cartItems,cartItemToClear){var newCartItems=clearCartItem(cartItems,cartItemToClear);return setCartItems(newCartItems);};","map":{"version":3,"names":["CART_ACTION_TYPES","createAction","withMatcher","addCartItem","cartItems","productToAdd","existingCartItem","find","cartItem","id","map","_objectSpread","quantity","concat","_toConsumableArray","removeCartItem","cartItemToRemove","filter","clearCartItem","cartItemToClear","setIsCartOpen","boolean","SET_IS_CART_OPEN","setCartItems","SET_CART_ITEMS","addItemToCart","newCartItems","removeItemFromCart","clearItemFromCart"],"sources":["/Users/benjaminbenitez/Desktop/React/FashionProject/src/store/cart/cart.action.ts"],"sourcesContent":["import { CategoryItem } from '../categories/category.types';\nimport { CART_ACTION_TYPES, CartItem } from './cart.types';\nimport {\n  createAction,\n  withMatcher,\n  Action,\n  ActionWithPayload,\n} from '../../utils/reducer/reducer.utils';\n\nconst addCartItem = (\n  cartItems: CartItem[],\n  productToAdd: CategoryItem\n): CartItem[] => {\n  const existingCartItem = cartItems.find(\n    (cartItem) => cartItem.id === productToAdd.id\n  );\n\n  if (existingCartItem) {\n    return cartItems.map((cartItem) =>\n      cartItem.id === productToAdd.id\n        ? { ...cartItem, quantity: cartItem.quantity + 1 }\n        : cartItem\n    );\n  }\n\n  return [...cartItems, { ...productToAdd, quantity: 1 }];\n};\n\nconst removeCartItem = (\n  cartItems: CartItem[],\n  cartItemToRemove: CartItem\n): CartItem[] => {\n  // find the cart item to remove\n  const existingCartItem = cartItems.find(\n    (cartItem) => cartItem.id === cartItemToRemove.id\n  );\n\n  // check if quantity is equal to 1, if it is remove that item from the cart\n  if (existingCartItem && existingCartItem.quantity === 1) {\n    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);\n  }\n\n  // return back cartitems with matching cart item with reduced quantity\n  return cartItems.map((cartItem) =>\n    cartItem.id === cartItemToRemove.id\n      ? { ...cartItem, quantity: cartItem.quantity - 1 }\n      : cartItem\n  );\n};\n\nconst clearCartItem = (\n  cartItems: CartItem[],\n  cartItemToClear: CartItem\n): CartItem[] =>\n  cartItems.filter((cartItem) => cartItem.id !== cartItemToClear.id);\n\nexport type SetIsCartOpen = ActionWithPayload<\n  CART_ACTION_TYPES.SET_IS_CART_OPEN,\n  boolean\n>;\n\nexport type SetCartItems = ActionWithPayload<\n  CART_ACTION_TYPES.SET_CART_ITEMS,\n  CartItem[]\n>;\n\nexport const setIsCartOpen = withMatcher(\n  (boolean: boolean): SetIsCartOpen =>\n    createAction(CART_ACTION_TYPES.SET_IS_CART_OPEN, boolean)\n);\n\nexport const setCartItems = withMatcher(\n  (cartItems: CartItem[]): SetCartItems =>\n    createAction(CART_ACTION_TYPES.SET_CART_ITEMS, cartItems)\n);\n\nexport const addItemToCart = (\n  cartItems: CartItem[],\n  productToAdd: CategoryItem\n) => {\n  const newCartItems = addCartItem(cartItems, productToAdd);\n  return setCartItems(newCartItems);\n};\n\nexport const removeItemFromCart = (\n  cartItems: CartItem[],\n  cartItemToRemove: CartItem\n) => {\n  const newCartItems = removeCartItem(cartItems, cartItemToRemove);\n  return setCartItems(newCartItems);\n};\n\nexport const clearItemFromCart = (\n  cartItems: CartItem[],\n  cartItemToClear: CartItem\n) => {\n  const newCartItems = clearCartItem(cartItems, cartItemToClear);\n  return setCartItems(newCartItems);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}